var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise=asPromise$1;function asPromise$1(o,e){for(var s=new Array(arguments.length-1),d=0,f=2,a=!0;f<arguments.length;)s[d++]=arguments[f++];return new Promise(function(n,i){s[d]=function(l){if(a)if(a=!1,l)i(l);else{for(var u=new Array(arguments.length-1),c=0;c<u.length;)u[c++]=arguments[c];n.apply(null,u)}};try{o.apply(e||null,s)}catch(r){a&&(a=!1,i(r))}})}var base64$1={};(function(o){var e=o;e.length=function(n){var i=n.length;if(!i)return 0;for(var r=0;--i%4>1&&n.charAt(i)==="=";)++r;return Math.ceil(n.length*3)/4-r};for(var s=new Array(64),d=new Array(123),f=0;f<64;)d[s[f]=f<26?f+65:f<52?f+71:f<62?f-4:f-59|43]=f++;e.encode=function(n,i,r){for(var l=null,u=[],c=0,h=0,p;i<r;){var y=n[i++];switch(h){case 0:u[c++]=s[y>>2],p=(y&3)<<4,h=1;break;case 1:u[c++]=s[p|y>>4],p=(y&15)<<2,h=2;break;case 2:u[c++]=s[p|y>>6],u[c++]=s[y&63],h=0;break}c>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,u)),c=0)}return h&&(u[c++]=s[p],u[c++]=61,h===1&&(u[c++]=61)),l?(c&&l.push(String.fromCharCode.apply(String,u.slice(0,c))),l.join("")):String.fromCharCode.apply(String,u.slice(0,c))};var a="invalid encoding";e.decode=function(n,i,r){for(var l=r,u=0,c,h=0;h<n.length;){var p=n.charCodeAt(h++);if(p===61&&u>1)break;if((p=d[p])===void 0)throw Error(a);switch(u){case 0:c=p,u=1;break;case 1:i[r++]=c<<2|(p&48)>>4,c=p,u=2;break;case 2:i[r++]=(c&15)<<4|(p&60)>>2,c=p,u=3;break;case 3:i[r++]=(c&3)<<6|p,u=0;break}}if(u===1)throw Error(a);return r-l},e.test=function(n){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,s,d){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:s,ctx:d||this}),this};EventEmitter.prototype.off=function(e,s){if(e===void 0)this._listeners={};else if(s===void 0)this._listeners[e]=[];else for(var d=this._listeners[e],f=0;f<d.length;)d[f].fn===s?d.splice(f,1):++f;return this};EventEmitter.prototype.emit=function(e){var s=this._listeners[e];if(s){for(var d=[],f=1;f<arguments.length;)d.push(arguments[f++]);for(f=0;f<s.length;)s[f].fn.apply(s[f++].ctx,d)}return this};var float=factory(factory);function factory(o){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),s=new Uint8Array(e.buffer),d=s[3]===128;function f(i,r,l){e[0]=i,r[l]=s[0],r[l+1]=s[1],r[l+2]=s[2],r[l+3]=s[3]}function a(i,r,l){e[0]=i,r[l]=s[3],r[l+1]=s[2],r[l+2]=s[1],r[l+3]=s[0]}o.writeFloatLE=d?f:a,o.writeFloatBE=d?a:f;function t(i,r){return s[0]=i[r],s[1]=i[r+1],s[2]=i[r+2],s[3]=i[r+3],e[0]}function n(i,r){return s[3]=i[r],s[2]=i[r+1],s[1]=i[r+2],s[0]=i[r+3],e[0]}o.readFloatLE=d?t:n,o.readFloatBE=d?n:t}():function(){function e(d,f,a,t){var n=f<0?1:0;if(n&&(f=-f),f===0)d(1/f>0?0:2147483648,a,t);else if(isNaN(f))d(2143289344,a,t);else if(f>34028234663852886e22)d((n<<31|2139095040)>>>0,a,t);else if(f<11754943508222875e-54)d((n<<31|Math.round(f/1401298464324817e-60))>>>0,a,t);else{var i=Math.floor(Math.log(f)/Math.LN2),r=Math.round(f*Math.pow(2,-i)*8388608)&8388607;d((n<<31|i+127<<23|r)>>>0,a,t)}}o.writeFloatLE=e.bind(null,writeUintLE),o.writeFloatBE=e.bind(null,writeUintBE);function s(d,f,a){var t=d(f,a),n=(t>>31)*2+1,i=t>>>23&255,r=t&8388607;return i===255?r?NaN:n*(1/0):i===0?n*1401298464324817e-60*r:n*Math.pow(2,i-150)*(r+8388608)}o.readFloatLE=s.bind(null,readUintLE),o.readFloatBE=s.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),s=new Uint8Array(e.buffer),d=s[7]===128;function f(i,r,l){e[0]=i,r[l]=s[0],r[l+1]=s[1],r[l+2]=s[2],r[l+3]=s[3],r[l+4]=s[4],r[l+5]=s[5],r[l+6]=s[6],r[l+7]=s[7]}function a(i,r,l){e[0]=i,r[l]=s[7],r[l+1]=s[6],r[l+2]=s[5],r[l+3]=s[4],r[l+4]=s[3],r[l+5]=s[2],r[l+6]=s[1],r[l+7]=s[0]}o.writeDoubleLE=d?f:a,o.writeDoubleBE=d?a:f;function t(i,r){return s[0]=i[r],s[1]=i[r+1],s[2]=i[r+2],s[3]=i[r+3],s[4]=i[r+4],s[5]=i[r+5],s[6]=i[r+6],s[7]=i[r+7],e[0]}function n(i,r){return s[7]=i[r],s[6]=i[r+1],s[5]=i[r+2],s[4]=i[r+3],s[3]=i[r+4],s[2]=i[r+5],s[1]=i[r+6],s[0]=i[r+7],e[0]}o.readDoubleLE=d?t:n,o.readDoubleBE=d?n:t}():function(){function e(d,f,a,t,n,i){var r=t<0?1:0;if(r&&(t=-t),t===0)d(0,n,i+f),d(1/t>0?0:2147483648,n,i+a);else if(isNaN(t))d(0,n,i+f),d(2146959360,n,i+a);else if(t>17976931348623157e292)d(0,n,i+f),d((r<<31|2146435072)>>>0,n,i+a);else{var l;if(t<22250738585072014e-324)l=t/5e-324,d(l>>>0,n,i+f),d((r<<31|l/4294967296)>>>0,n,i+a);else{var u=Math.floor(Math.log(t)/Math.LN2);u===1024&&(u=1023),l=t*Math.pow(2,-u),d(l*4503599627370496>>>0,n,i+f),d((r<<31|u+1023<<20|l*1048576&1048575)>>>0,n,i+a)}}}o.writeDoubleLE=e.bind(null,writeUintLE,0,4),o.writeDoubleBE=e.bind(null,writeUintBE,4,0);function s(d,f,a,t,n){var i=d(t,n+f),r=d(t,n+a),l=(r>>31)*2+1,u=r>>>20&2047,c=4294967296*(r&1048575)+i;return u===2047?c?NaN:l*(1/0):u===0?l*5e-324*c:l*Math.pow(2,u-1075)*(c+4503599627370496)}o.readDoubleLE=s.bind(null,readUintLE,0,4),o.readDoubleBE=s.bind(null,readUintBE,4,0)}(),o}function writeUintLE(o,e,s){e[s]=o&255,e[s+1]=o>>>8&255,e[s+2]=o>>>16&255,e[s+3]=o>>>24}function writeUintBE(o,e,s){e[s]=o>>>24,e[s+1]=o>>>16&255,e[s+2]=o>>>8&255,e[s+3]=o&255}function readUintLE(o,e){return(o[e]|o[e+1]<<8|o[e+2]<<16|o[e+3]<<24)>>>0}function readUintBE(o,e){return(o[e]<<24|o[e+1]<<16|o[e+2]<<8|o[e+3])>>>0}var inquire_1=inquire$1;function inquire$1(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}var utf8$2={};(function(o){var e=o;e.length=function(d){for(var f=0,a=0,t=0;t<d.length;++t)a=d.charCodeAt(t),a<128?f+=1:a<2048?f+=2:(a&64512)===55296&&(d.charCodeAt(t+1)&64512)===56320?(++t,f+=4):f+=3;return f},e.read=function(d,f,a){var t=a-f;if(t<1)return"";for(var n=null,i=[],r=0,l;f<a;)l=d[f++],l<128?i[r++]=l:l>191&&l<224?i[r++]=(l&31)<<6|d[f++]&63:l>239&&l<365?(l=((l&7)<<18|(d[f++]&63)<<12|(d[f++]&63)<<6|d[f++]&63)-65536,i[r++]=55296+(l>>10),i[r++]=56320+(l&1023)):i[r++]=(l&15)<<12|(d[f++]&63)<<6|d[f++]&63,r>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,i)),r=0);return n?(r&&n.push(String.fromCharCode.apply(String,i.slice(0,r))),n.join("")):String.fromCharCode.apply(String,i.slice(0,r))},e.write=function(d,f,a){for(var t=a,n,i,r=0;r<d.length;++r)n=d.charCodeAt(r),n<128?f[a++]=n:n<2048?(f[a++]=n>>6|192,f[a++]=n&63|128):(n&64512)===55296&&((i=d.charCodeAt(r+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++r,f[a++]=n>>18|240,f[a++]=n>>12&63|128,f[a++]=n>>6&63|128,f[a++]=n&63|128):(f[a++]=n>>12|224,f[a++]=n>>6&63|128,f[a++]=n&63|128);return a-t}})(utf8$2);var pool_1=pool;function pool(o,e,s){var d=s||8192,f=d>>>1,a=null,t=d;return function(i){if(i<1||i>f)return o(i);t+i>d&&(a=o(d),t=0);var r=e.call(a,t,t+=i);return t&7&&(t=(t|7)+1),r}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var o=requireMinimal();function e(a,t){this.lo=a>>>0,this.hi=t>>>0}var s=e.zero=new e(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var d=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(t){if(t===0)return s;var n=t<0;n&&(t=-t);var i=t>>>0,r=(t-i)/4294967296>>>0;return n&&(r=~r>>>0,i=~i>>>0,++i>4294967295&&(i=0,++r>4294967295&&(r=0))),new e(i,r)},e.from=function(t){if(typeof t=="number")return e.fromNumber(t);if(o.isString(t))if(o.Long)t=o.Long.fromString(t);else return e.fromNumber(parseInt(t,10));return t.low||t.high?new e(t.low>>>0,t.high>>>0):s},e.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=~this.lo+1>>>0,i=~this.hi>>>0;return n||(i=i+1>>>0),-(n+i*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(t){return o.Long?new o.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var f=String.prototype.charCodeAt;return e.fromHash=function(t){return t===d?s:new e((f.call(t,0)|f.call(t,1)<<8|f.call(t,2)<<16|f.call(t,3)<<24)>>>0,(f.call(t,4)|f.call(t,5)<<8|f.call(t,6)<<16|f.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?n===0?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(o){var e=o;e.asPromise=aspromise,e.base64=base64$1,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},e.isString=function(a){return typeof a=="string"||a instanceof String},e.isObject=function(a){return a&&typeof a=="object"},e.isset=e.isSet=function(a,t){var n=a[t];return n!=null&&a.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1},e.Buffer=function(){try{var f=e.inquire("buffer").Buffer;return f.prototype.utf8Write?f:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(a){return typeof a=="number"?e.Buffer?e._Buffer_allocUnsafe(a):new e.Array(a):e.Buffer?e._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(a){return a?e.LongBits.from(a).toHash():e.LongBits.zeroHash},e.longFromHash=function(a,t){var n=e.LongBits.fromHash(a);return e.Long?e.Long.fromBits(n.lo,n.hi,t):n.toNumber(!!t)};function s(f,a,t){for(var n=Object.keys(a),i=0;i<n.length;++i)(f[n[i]]===void 0||!t)&&(f[n[i]]=a[n[i]]);return f}e.merge=s,e.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};function d(f){function a(t,n){if(!(this instanceof a))return new a(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&s(this,n)}return a.prototype=Object.create(Error.prototype,{constructor:{value:a,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return f},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),a}e.newError=d,e.ProtocolError=d("ProtocolError"),e.oneOfGetter=function(a){for(var t={},n=0;n<a.length;++n)t[a[n]]=1;return function(){for(var i=Object.keys(this),r=i.length-1;r>-1;--r)if(t[i[r]]===1&&this[i[r]]!==void 0&&this[i[r]]!==null)return i[r]}},e.oneOfSetter=function(a){return function(t){for(var n=0;n<a.length;++n)a[n]!==t&&delete this[a[n]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var f=e.Buffer;if(!f){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=f.from!==Uint8Array.from&&f.from||function(t,n){return new f(t,n)},e._Buffer_allocUnsafe=f.allocUnsafe||function(t){return new f(t)}}}(minimal)),minimal}var writer=Writer$1,util$7=requireMinimal(),BufferWriter$1,LongBits$1=util$7.LongBits,base64=util$7.base64,utf8$1=util$7.utf8;function Op(o,e,s){this.fn=o,this.len=e,this.next=void 0,this.val=s}function noop(){}function State(o){this.head=o.head,this.tail=o.tail,this.len=o.len,this.next=o.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function o(){return util$7.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function o(e){return new util$7.Array(e)};util$7.Array!==Array&&(Writer$1.alloc=util$7.pool(Writer$1.alloc,util$7.Array.prototype.subarray));Writer$1.prototype._push=function o(e,s,d){return this.tail=this.tail.next=new Op(e,s,d),this.len+=s,this};function writeByte(o,e,s){e[s]=o&255}function writeVarint32(o,e,s){for(;o>127;)e[s++]=o&127|128,o>>>=7;e[s]=o}function VarintOp(o,e){this.len=o,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function o(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function o(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function o(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(o,e,s){for(;o.hi;)e[s++]=o.lo&127|128,o.lo=(o.lo>>>7|o.hi<<25)>>>0,o.hi>>>=7;for(;o.lo>127;)e[s++]=o.lo&127|128,o.lo=o.lo>>>7;e[s++]=o.lo}Writer$1.prototype.uint64=function o(e){var s=LongBits$1.from(e);return this._push(writeVarint64,s.length(),s)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function o(e){var s=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,s.length(),s)};Writer$1.prototype.bool=function o(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(o,e,s){e[s]=o&255,e[s+1]=o>>>8&255,e[s+2]=o>>>16&255,e[s+3]=o>>>24}Writer$1.prototype.fixed32=function o(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function o(e){var s=LongBits$1.from(e);return this._push(writeFixed32,4,s.lo)._push(writeFixed32,4,s.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function o(e){return this._push(util$7.float.writeFloatLE,4,e)};Writer$1.prototype.double=function o(e){return this._push(util$7.float.writeDoubleLE,8,e)};var writeBytes=util$7.Array.prototype.set?function o(e,s,d){s.set(e,d)}:function o(e,s,d){for(var f=0;f<e.length;++f)s[d+f]=e[f]};Writer$1.prototype.bytes=function o(e){var s=e.length>>>0;if(!s)return this._push(writeByte,1,0);if(util$7.isString(e)){var d=Writer$1.alloc(s=base64.length(e));base64.decode(e,d,0),e=d}return this.uint32(s)._push(writeBytes,s,e)};Writer$1.prototype.string=function o(e){var s=utf8$1.length(e);return s?this.uint32(s)._push(utf8$1.write,s,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function o(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function o(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function o(){var e=this.head,s=this.tail,d=this.len;return this.reset().uint32(d),d&&(this.tail.next=e.next,this.tail=s,this.len+=d),this};Writer$1.prototype.finish=function o(){for(var e=this.head.next,s=this.constructor.alloc(this.len),d=0;e;)e.fn(e.val,s,d),d+=e.len,e=e.next;return s};Writer$1._configure=function(o){BufferWriter$1=o,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$6=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$6._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$6.Buffer&&util$6.Buffer.prototype instanceof Uint8Array&&util$6.Buffer.prototype.set.name==="set"?function(e,s,d){s.set(e,d)}:function(e,s,d){if(e.copy)e.copy(s,d,0,e.length);else for(var f=0;f<e.length;)s[d++]=e[f++]}};BufferWriter.prototype.bytes=function o(e){util$6.isString(e)&&(e=util$6._Buffer_from(e,"base64"));var s=e.length>>>0;return this.uint32(s),s&&this._push(BufferWriter.writeBytesBuffer,s,e),this};function writeStringBuffer(o,e,s){o.length<40?util$6.utf8.write(o,e,s):e.utf8Write?e.utf8Write(o,s):e.write(o,s)}BufferWriter.prototype.string=function o(e){var s=util$6.Buffer.byteLength(e);return this.uint32(s),s&&this._push(writeStringBuffer,s,e),this};BufferWriter._configure();var reader=Reader$1,util$5=requireMinimal(),BufferReader$1,LongBits=util$5.LongBits,utf8=util$5.utf8;function indexOutOfRange(o,e){return RangeError("index out of range: "+o.pos+" + "+(e||1)+" > "+o.len)}function Reader$1(o){this.buf=o,this.pos=0,this.len=o.length}var create_array=typeof Uint8Array<"u"?function o(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function o(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function o(){return util$5.Buffer?function(s){return(Reader$1.create=function(f){return util$5.Buffer.isBuffer(f)?new BufferReader$1(f):create_array(f)})(s)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$5.Array.prototype.subarray||util$5.Array.prototype.slice;Reader$1.prototype.uint32=function o(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function o(){return this.uint32()|0};Reader$1.prototype.sint32=function o(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var o=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(o.lo=(o.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return o;if(o.lo=(o.lo|(this.buf[this.pos]&127)<<28)>>>0,o.hi=(o.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return o;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(o.lo=(o.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return o}return o.lo=(o.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,o}if(this.len-this.pos>4){for(;e<5;++e)if(o.hi=(o.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return o}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(o.hi=(o.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return o}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function o(){return this.uint32()!==0};function readFixed32_end(o,e){return(o[e-4]|o[e-3]<<8|o[e-2]<<16|o[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function o(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function o(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function o(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$5.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function o(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$5.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function o(){var e=this.uint32(),s=this.pos,d=this.pos+e;if(d>this.len)throw indexOutOfRange(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(s,d);if(s===d){var f=util$5.Buffer;return f?f.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,s,d)};Reader$1.prototype.string=function o(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function o(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(o){switch(o){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(o=this.uint32()&7)!==4;)this.skipType(o);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+o+" at offset "+this.pos)}return this};Reader$1._configure=function(o){BufferReader$1=o,Reader$1.create=create(),BufferReader$1._configure();var e=util$5.Long?"toLong":"toNumber";util$5.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$4=requireMinimal();function BufferReader(o){Reader.call(this,o)}BufferReader._configure=function(){util$4.Buffer&&(BufferReader.prototype._slice=util$4.Buffer.prototype.slice)};BufferReader.prototype.string=function o(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service$1=Service$1,util$3=requireMinimal();(Service$1.prototype=Object.create(util$3.EventEmitter.prototype)).constructor=Service$1;function Service$1(o,e,s){if(typeof o!="function")throw TypeError("rpcImpl must be a function");util$3.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!e,this.responseDelimited=!!s}Service$1.prototype.rpcCall=function o(e,s,d,f,a){if(!f)throw TypeError("request must be specified");var t=this;if(!a)return util$3.asPromise(o,t,e,s,d,f);if(!t.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return t.rpcImpl(e,s[t.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(i,r){if(i)return t.emit("error",i,e),a(i);if(r===null){t.end(!0);return}if(!(r instanceof d))try{r=d[t.responseDelimited?"decodeDelimited":"decode"](r)}catch(l){return t.emit("error",l,e),a(l)}return t.emit("data",r,e),a(null,r)})}catch(n){t.emit("error",n,e),setTimeout(function(){a(n)},0);return}};Service$1.prototype.end=function o(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(o){var e=o;e.Service=service$1})(rpc);var roots={};(function(o){var e=o;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=s;function s(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}s()})(indexMinimal);var types$1={},util$2={exports:{}},codegen_1=codegen;function codegen(o,e){typeof o=="string"&&(e=o,o=void 0);var s=[];function d(a){if(typeof a!="string"){var t=f();if(codegen.verbose&&console.log("codegen: "+t),t="return "+t,a){for(var n=Object.keys(a),i=new Array(n.length+1),r=new Array(n.length),l=0;l<n.length;)i[l]=n[l],r[l]=a[n[l++]];return i[l]=t,Function.apply(null,i).apply(null,r)}return Function(t)()}for(var u=new Array(arguments.length-1),c=0;c<u.length;)u[c]=arguments[++c];if(c=0,a=a.replace(/%([%dfijs])/g,function(p,y){var q=u[c++];switch(y){case"d":case"f":return String(Number(q));case"i":return String(Math.floor(q));case"j":return JSON.stringify(q);case"s":return String(q)}return"%"}),c!==u.length)throw Error("parameter count mismatch");return s.push(a),d}function f(a){return"function "+(a||e||"")+"("+(o&&o.join(",")||"")+`){
  `+s.join(`
  `)+`
}`}return d.toString=f,d}codegen.verbose=!1;var fetch_1=fetch,asPromise=aspromise,inquire=inquire_1,fs=inquire("fs");function fetch(o,e,s){return typeof e=="function"?(s=e,e={}):e||(e={}),s?!e.xhr&&fs&&fs.readFile?fs.readFile(o,function(f,a){return f&&typeof XMLHttpRequest<"u"?fetch.xhr(o,e,s):f?s(f):s(null,e.binary?a:a.toString("utf8"))}):fetch.xhr(o,e,s):asPromise(fetch,this,o,e)}fetch.xhr=function o(e,s,d){var f=new XMLHttpRequest;f.onreadystatechange=function(){if(f.readyState===4){if(f.status!==0&&f.status!==200)return d(Error("status "+f.status));if(s.binary){var t=f.response;if(!t){t=[];for(var n=0;n<f.responseText.length;++n)t.push(f.responseText.charCodeAt(n)&255)}return d(null,typeof Uint8Array<"u"?new Uint8Array(t):t)}return d(null,f.responseText)}},s.binary&&("overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),f.responseType="arraybuffer"),f.open("GET",e),f.send()};var path={};(function(o){var e=o,s=e.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},d=e.normalize=function(a){a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=a.split("/"),n=s(a),i="";n&&(i=t.shift()+"/");for(var r=0;r<t.length;)t[r]===".."?r>0&&t[r-1]!==".."?t.splice(--r,2):n?t.splice(r,1):++r:t[r]==="."?t.splice(r,1):++r;return i+t.join("/")};e.resolve=function(a,t,n){return n||(t=d(t)),s(t)?t:(n||(a=d(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?d(a+"/"+t):t)}})(path);var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=i;var o=requireObject();((i.prototype=Object.create(o.prototype)).constructor=i).className="Namespace";var e=requireField(),s=requireUtil(),d=requireOneof(),f,a,t;i.fromJSON=function(u,c){return new i(u,c.options).addJSON(c.nested)};function n(l,u){if(l&&l.length){for(var c={},h=0;h<l.length;++h)c[l[h].name]=l[h].toJSON(u);return c}}i.arrayToJSON=n,i.isReservedId=function(u,c){if(u){for(var h=0;h<u.length;++h)if(typeof u[h]!="string"&&u[h][0]<=c&&u[h][1]>c)return!0}return!1},i.isReservedName=function(u,c){if(u){for(var h=0;h<u.length;++h)if(u[h]===c)return!0}return!1};function i(l,u){o.call(this,l,u),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function r(l){l._nestedArray=null,l._lookupCache={};for(var u=l;u=u.parent;)u._lookupCache={};return l}return Object.defineProperty(i.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=s.toArray(this.nested))}}),i.prototype.toJSON=function(u){return s.toObject(["options",this.options,"nested",n(this.nestedArray,u)])},i.prototype.addJSON=function(u){var c=this;if(u)for(var h=Object.keys(u),p=0,y;p<h.length;++p)y=u[h[p]],c.add((y.fields!==void 0?f.fromJSON:y.values!==void 0?t.fromJSON:y.methods!==void 0?a.fromJSON:y.id!==void 0?e.fromJSON:i.fromJSON)(h[p],y));return this},i.prototype.get=function(u){return this.nested&&this.nested[u]||null},i.prototype.getEnum=function(u){if(this.nested&&this.nested[u]instanceof t)return this.nested[u].values;throw Error("no such enum: "+u)},i.prototype.add=function(u){if(!(u instanceof e&&u.extend!==void 0||u instanceof f||u instanceof d||u instanceof t||u instanceof a||u instanceof i))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var c=this.get(u.name);if(c)if(c instanceof i&&u instanceof i&&!(c instanceof f||c instanceof a)){for(var h=c.nestedArray,p=0;p<h.length;++p)u.add(h[p]);this.remove(c),this.nested||(this.nested={}),u.setOptions(c.options,!0)}else throw Error("duplicate name '"+u.name+"' in "+this)}this.nested[u.name]=u,this instanceof f||this instanceof a||this instanceof t||this instanceof e||u._edition||(u._edition=u._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var y=this;y=y.parent;)y._needsRecursiveFeatureResolution=!0,y._needsRecursiveResolve=!0;return u.onAdd(this),r(this)},i.prototype.remove=function(u){if(!(u instanceof o))throw TypeError("object must be a ReflectionObject");if(u.parent!==this)throw Error(u+" is not a member of "+this);return delete this.nested[u.name],Object.keys(this.nested).length||(this.nested=void 0),u.onRemove(this),r(this)},i.prototype.define=function(u,c){if(s.isString(u))u=u.split(".");else if(!Array.isArray(u))throw TypeError("illegal path");if(u&&u.length&&u[0]==="")throw Error("path must be relative");for(var h=this;u.length>0;){var p=u.shift();if(h.nested&&h.nested[p]){if(h=h.nested[p],!(h instanceof i))throw Error("path conflicts with non-namespace objects")}else h.add(h=new i(p))}return c&&h.addJSON(c),h},i.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var u=this.nestedArray,c=0;for(this.resolve();c<u.length;)u[c]instanceof i?u[c++].resolveAll():u[c++].resolve();return this._needsRecursiveResolve=!1,this},i.prototype._resolveFeaturesRecursive=function(u){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,u=this._edition||u,o.prototype._resolveFeaturesRecursive.call(this,u),this.nestedArray.forEach(c=>{c._resolveFeaturesRecursive(u)}),this):this},i.prototype.lookup=function(u,c,h){if(typeof c=="boolean"?(h=c,c=void 0):c&&!Array.isArray(c)&&(c=[c]),s.isString(u)&&u.length){if(u===".")return this.root;u=u.split(".")}else if(!u.length)return this;var p=u.join(".");if(u[0]==="")return this.root.lookup(u.slice(1),c);var y=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+p];if(y&&(!c||c.indexOf(y.constructor)>-1)||(y=this._lookupImpl(u,p),y&&(!c||c.indexOf(y.constructor)>-1)))return y;if(h)return null;for(var q=this;q.parent;){if(y=q.parent._lookupImpl(u,p),y&&(!c||c.indexOf(y.constructor)>-1))return y;q=q.parent}return null},i.prototype._lookupImpl=function(u,c){if(Object.prototype.hasOwnProperty.call(this._lookupCache,c))return this._lookupCache[c];var h=this.get(u[0]),p=null;if(h)u.length===1?p=h:h instanceof i&&(u=u.slice(1),p=h._lookupImpl(u,u.join(".")));else for(var y=0;y<this.nestedArray.length;++y)this._nestedArray[y]instanceof i&&(h=this._nestedArray[y]._lookupImpl(u,c))&&(p=h);return this._lookupCache[c]=p,p},i.prototype.lookupType=function(u){var c=this.lookup(u,[f]);if(!c)throw Error("no such type: "+u);return c},i.prototype.lookupEnum=function(u){var c=this.lookup(u,[t]);if(!c)throw Error("no such Enum '"+u+"' in "+this);return c},i.prototype.lookupTypeOrEnum=function(u){var c=this.lookup(u,[f,t]);if(!c)throw Error("no such Type or Enum '"+u+"' in "+this);return c},i.prototype.lookupService=function(u){var c=this.lookup(u,[a]);if(!c)throw Error("no such Service '"+u+"' in "+this);return c},i._configure=function(l,u,c){f=l,a=u,t=c},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=d;var o=requireField();((d.prototype=Object.create(o.prototype)).constructor=d).className="MapField";var e=requireTypes(),s=requireUtil();function d(f,a,t,n,i,r){if(o.call(this,f,a,n,void 0,void 0,i,r),!s.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}return d.fromJSON=function(a,t){return new d(a,t.id,t.keyType,t.type,t.options,t.comment)},d.prototype.toJSON=function(a){var t=a?!!a.keepComments:!1;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},d.prototype.resolve=function(){if(this.resolved)return this;if(e.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return o.prototype.resolve.call(this)},d.d=function(a,t,n){return typeof n=="function"?n=s.decorateType(n).name:n&&typeof n=="object"&&(n=s.decorateEnum(n).name),function(r,l){s.decorateType(r.constructor).add(new d(l,a,t,n))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=s;var o=requireObject();((s.prototype=Object.create(o.prototype)).constructor=s).className="Method";var e=requireUtil();function s(d,f,a,t,n,i,r,l,u){if(e.isObject(n)?(r=n,n=i=void 0):e.isObject(i)&&(r=i,i=void 0),!(f===void 0||e.isString(f)))throw TypeError("type must be a string");if(!e.isString(a))throw TypeError("requestType must be a string");if(!e.isString(t))throw TypeError("responseType must be a string");o.call(this,d,r),this.type=f||"rpc",this.requestType=a,this.requestStream=n?!0:void 0,this.responseType=t,this.responseStream=i?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}return s.fromJSON=function(f,a){return new s(f,a.type,a.requestType,a.responseType,a.requestStream,a.responseStream,a.options,a.comment,a.parsedOptions)},s.prototype.toJSON=function(f){var a=f?!!f.keepComments:!1;return e.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",a?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),o.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=f;var o=requireNamespace();((f.prototype=Object.create(o.prototype)).constructor=f).className="Service";var e=requireMethod(),s=requireUtil(),d=rpc;function f(t,n){o.call(this,t,n),this.methods={},this._methodsArray=null}f.fromJSON=function(n,i){var r=new f(n,i.options);if(i.methods)for(var l=Object.keys(i.methods),u=0;u<l.length;++u)r.add(e.fromJSON(l[u],i.methods[l[u]]));return i.nested&&r.addJSON(i.nested),i.edition&&(r._edition=i.edition),r.comment=i.comment,r._defaultEdition="proto3",r},f.prototype.toJSON=function(n){var i=o.prototype.toJSON.call(this,n),r=n?!!n.keepComments:!1;return s.toObject(["edition",this._editionToJSON(),"options",i&&i.options||void 0,"methods",o.arrayToJSON(this.methodsArray,n)||{},"nested",i&&i.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(f.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}});function a(t){return t._methodsArray=null,t}return f.prototype.get=function(n){return this.methods[n]||o.prototype.get.call(this,n)},f.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;o.prototype.resolve.call(this);for(var n=this.methodsArray,i=0;i<n.length;++i)n[i].resolve();return this},f.prototype._resolveFeaturesRecursive=function(n){return this._needsRecursiveFeatureResolution?(n=this._edition||n,o.prototype._resolveFeaturesRecursive.call(this,n),this.methodsArray.forEach(i=>{i._resolveFeaturesRecursive(n)}),this):this},f.prototype.add=function(n){if(this.get(n.name))throw Error("duplicate name '"+n.name+"' in "+this);return n instanceof e?(this.methods[n.name]=n,n.parent=this,a(this)):o.prototype.add.call(this,n)},f.prototype.remove=function(n){if(n instanceof e){if(this.methods[n.name]!==n)throw Error(n+" is not a member of "+this);return delete this.methods[n.name],n.parent=null,a(this)}return o.prototype.remove.call(this,n)},f.prototype.create=function(n,i,r){for(var l=new d.Service(n,i,r),u=0,c;u<this.methodsArray.length;++u){var h=s.lcFirst((c=this._methodsArray[u]).resolve().name).replace(/[^$\w_]/g,"");l[h]=s.codegen(["r","c"],s.isReserved(h)?h+"_":h)("return this.rpcCall(m,q,s,r,c)")({m:c,q:c.resolvedRequestType.ctor,s:c.resolvedResponseType.ctor})}return l},service}var message=Message,util$1=requireMinimal();function Message(o){if(o)for(var e=Object.keys(o),s=0;s<e.length;++s)this[e[s]]=o[e[s]]}Message.create=function o(e){return this.$type.create(e)};Message.encode=function o(e,s){return this.$type.encode(e,s)};Message.encodeDelimited=function o(e,s){return this.$type.encodeDelimited(e,s)};Message.decode=function o(e){return this.$type.decode(e)};Message.decodeDelimited=function o(e){return this.$type.decodeDelimited(e)};Message.verify=function o(e){return this.$type.verify(e)};Message.fromObject=function o(e){return this.$type.fromObject(e)};Message.toObject=function o(e,s){return this.$type.toObject(e,s)};Message.prototype.toJSON=function o(){return this.$type.toObject(this,util$1.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=f;var o=require_enum(),e=requireTypes(),s=requireUtil();function d(a){return"missing required '"+a.name+"'"}function f(a){for(var t=s.codegen(["r","l","e"],a.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(a.fieldsArray.filter(function(c){return c.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),n=0;n<a.fieldsArray.length;++n){var i=a._fieldsArray[n].resolve(),r=i.resolvedType instanceof o?"int32":i.type,l="m"+s.safeProp(i.name);t("case %i: {",i.id),i.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),e.defaults[i.keyType]!==void 0?t("k=%j",e.defaults[i.keyType]):t("k=null"),e.defaults[r]!==void 0?t("value=%j",e.defaults[r]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",i.keyType)("case 2:"),e.basic[r]===void 0?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",r),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),e.long[i.keyType]!==void 0?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):i.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),e.packed[r]!==void 0&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,r)("}else"),e.basic[r]===void 0?t(i.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,r)):e.basic[r]===void 0?t(i.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,r),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<a._fieldsArray.length;++n){var u=a._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",d(u))}return t("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=a;var o=require_enum(),e=requireUtil();function s(t,n){return t.name+": "+n+(t.repeated&&n!=="array"?"[]":t.map&&n!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function d(t,n,i,r){if(n.resolvedType)if(n.resolvedType instanceof o){t("switch(%s){",r)("default:")("return%j",s(n,"enum value"));for(var l=Object.keys(n.resolvedType.values),u=0;u<l.length;++u)t("case %i:",n.resolvedType.values[l[u]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",i,r)("if(e)")("return%j+e",n.name+".")("}");else switch(n.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",s(n,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",s(n,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",s(n,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",s(n,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",s(n,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",s(n,"buffer"));break}return t}function f(t,n,i){switch(n.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",i)("return%j",s(n,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",i)("return%j",s(n,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",i)("return%j",s(n,"boolean key"));break}return t}function a(t){var n=e.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),i=t.oneofsArray,r={};i.length&&n("var p={}");for(var l=0;l<t.fieldsArray.length;++l){var u=t._fieldsArray[l].resolve(),c="m"+e.safeProp(u.name);if(u.optional&&n("if(%s!=null&&m.hasOwnProperty(%j)){",c,u.name),u.map)n("if(!util.isObject(%s))",c)("return%j",s(u,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),f(n,u,"k[i]"),d(n,u,l,c+"[k[i]]")("}");else if(u.repeated)n("if(!Array.isArray(%s))",c)("return%j",s(u,"array"))("for(var i=0;i<%s.length;++i){",c),d(n,u,l,c+"[i]")("}");else{if(u.partOf){var h=e.safeProp(u.partOf.name);r[u.partOf.name]===1&&n("if(p%s===1)",h)("return%j",u.partOf.name+": multiple values"),r[u.partOf.name]=1,n("p%s=1",h)}d(n,u,l,c)}u.optional&&n("}")}return n("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(o){var e=o,s=require_enum(),d=requireUtil();function f(t,n,i,r){var l=!1;if(n.resolvedType)if(n.resolvedType instanceof s){t("switch(d%s){",r);for(var u=n.resolvedType.values,c=Object.keys(u),h=0;h<c.length;++h)u[c[h]]===n.typeDefault&&!l&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),n.repeated||t("break"),l=!0),t("case%j:",c[h])("case %i:",u[c[h]])("m%s=%j",r,u[c[h]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",n.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,i,r);else{var p=!1;switch(n.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":p=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,p)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,p?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r);break}}return t}e.fromObject=function(n){var i=n.fieldsArray,r=d.codegen(["d"],n.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!i.length)return r("return new this.ctor");r("var m=new this.ctor");for(var l=0;l<i.length;++l){var u=i[l].resolve(),c=d.safeProp(u.name);u.map?(r("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",u.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),f(r,u,l,c+"[ks[i]]")("}")("}")):u.repeated?(r("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",u.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),f(r,u,l,c+"[i]")("}")("}")):(u.resolvedType instanceof s||r("if(d%s!=null){",c),f(r,u,l,c),u.resolvedType instanceof s||r("}"))}return r("return m")};function a(t,n,i,r){if(n.resolvedType)n.resolvedType instanceof s?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,i,r,r,i,r,r):t("d%s=types[%i].toObject(m%s,o)",r,i,r);else{var l=!1;switch(n.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,l?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r);break}}return t}e.toObject=function(n){var i=n.fieldsArray.slice().sort(d.compareFieldsById);if(!i.length)return d.codegen()("return {}");for(var r=d.codegen(["m","o"],n.name+"$toObject")("if(!o)")("o={}")("var d={}"),l=[],u=[],c=[],h=0;h<i.length;++h)i[h].partOf||(i[h].resolve().repeated?l:i[h].map?u:c).push(i[h]);if(l.length){for(r("if(o.arrays||o.defaults){"),h=0;h<l.length;++h)r("d%s=[]",d.safeProp(l[h].name));r("}")}if(u.length){for(r("if(o.objects||o.defaults){"),h=0;h<u.length;++h)r("d%s={}",d.safeProp(u[h].name));r("}")}if(c.length){for(r("if(o.defaults){"),h=0;h<c.length;++h){var p=c[h],y=d.safeProp(p.name);if(p.resolvedType instanceof s)r("d%s=o.enums===String?%j:%j",y,p.resolvedType.valuesById[p.typeDefault],p.typeDefault);else if(p.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",p.typeDefault.low,p.typeDefault.high,p.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",y)("}else")("d%s=o.longs===String?%j:%i",y,p.typeDefault.toString(),p.typeDefault.toNumber());else if(p.bytes){var q="["+Array.prototype.slice.call(p.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",y,String.fromCharCode.apply(String,p.typeDefault))("else{")("d%s=%s",y,q)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",y,y)("}")}else r("d%s=%j",y,p.typeDefault)}r("}")}var b=!1;for(h=0;h<i.length;++h){var p=i[h],m=n._fieldsArray.indexOf(p),y=d.safeProp(p.name);p.map?(b||(b=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",y,y)("d%s={}",y)("for(var j=0;j<ks2.length;++j){"),a(r,p,m,y+"[ks2[j]]")("}")):p.repeated?(r("if(m%s&&m%s.length){",y,y)("d%s=[]",y)("for(var j=0;j<m%s.length;++j){",y),a(r,p,m,y+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",y,p.name),a(r,p,m,y),p.partOf&&r("if(o.oneofs)")("d%s=%j",d.safeProp(p.partOf.name),p.name)),r("}")}return r("return d")}}(converter)),converter}var wrappers={};(function(o){var e=o,s=message;e[".google.protobuf.Any"]={fromObject:function(d){if(d&&d["@type"]){var f=d["@type"].substring(d["@type"].lastIndexOf("/")+1),a=this.lookup(f);if(a){var t=d["@type"].charAt(0)==="."?d["@type"].slice(1):d["@type"];return t.indexOf("/")===-1&&(t="/"+t),this.create({type_url:t,value:a.encode(a.fromObject(d)).finish()})}}return this.fromObject(d)},toObject:function(d,f){var a="type.googleapis.com/",t="",n="";if(f&&f.json&&d.type_url&&d.value){n=d.type_url.substring(d.type_url.lastIndexOf("/")+1),t=d.type_url.substring(0,d.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(d=i.decode(d.value))}if(!(d instanceof this.ctor)&&d instanceof s){var r=d.$type.toObject(d,f),l=d.$type.fullName[0]==="."?d.$type.fullName.slice(1):d.$type.fullName;return t===""&&(t=a),n=t+l,r["@type"]=n,r}return this.toObject(d,f)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=y;var o=requireNamespace();((y.prototype=Object.create(o.prototype)).constructor=y).className="Type";var e=require_enum(),s=requireOneof(),d=requireField(),f=requireMapfield(),a=requireService(),t=message,n=reader,i=writer,r=requireUtil(),l=requireEncoder(),u=requireDecoder(),c=requireVerifier(),h=requireConverter(),p=wrappers;function y(b,m){o.call(this,b,m),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var b=Object.keys(this.fields),m=0;m<b.length;++m){var w=this.fields[b[m]],v=w.id;if(this._fieldsById[v])throw Error("duplicate id "+v+" in "+this);this._fieldsById[v]=w}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=r.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=r.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(b){var m=b.prototype;m instanceof t||((b.prototype=new t).constructor=b,r.merge(b.prototype,m)),b.$type=b.prototype.$type=this,r.merge(b,t,!0),this._ctor=b;for(var w=0;w<this.fieldsArray.length;++w)this._fieldsArray[w].resolve();var v={};for(w=0;w<this.oneofsArray.length;++w)v[this._oneofsArray[w].resolve().name]={get:r.oneOfGetter(this._oneofsArray[w].oneof),set:r.oneOfSetter(this._oneofsArray[w].oneof)};w&&Object.defineProperties(b.prototype,v)}}}),y.generateConstructor=function(m){for(var w=r.codegen(["p"],m.name),v=0,A;v<m.fieldsArray.length;++v)(A=m._fieldsArray[v]).map?w("this%s={}",r.safeProp(A.name)):A.repeated&&w("this%s=[]",r.safeProp(A.name));return w("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function q(b){return b._fieldsById=b._fieldsArray=b._oneofsArray=null,delete b.encode,delete b.decode,delete b.verify,b}return y.fromJSON=function(m,w){var v=new y(m,w.options);v.extensions=w.extensions,v.reserved=w.reserved;for(var A=Object.keys(w.fields),$=0;$<A.length;++$)v.add((typeof w.fields[A[$]].keyType<"u"?f.fromJSON:d.fromJSON)(A[$],w.fields[A[$]]));if(w.oneofs)for(A=Object.keys(w.oneofs),$=0;$<A.length;++$)v.add(s.fromJSON(A[$],w.oneofs[A[$]]));if(w.nested)for(A=Object.keys(w.nested),$=0;$<A.length;++$){var x=w.nested[A[$]];v.add((x.id!==void 0?d.fromJSON:x.fields!==void 0?y.fromJSON:x.values!==void 0?e.fromJSON:x.methods!==void 0?a.fromJSON:o.fromJSON)(A[$],x))}return w.extensions&&w.extensions.length&&(v.extensions=w.extensions),w.reserved&&w.reserved.length&&(v.reserved=w.reserved),w.group&&(v.group=!0),w.comment&&(v.comment=w.comment),w.edition&&(v._edition=w.edition),v._defaultEdition="proto3",v},y.prototype.toJSON=function(m){var w=o.prototype.toJSON.call(this,m),v=m?!!m.keepComments:!1;return r.toObject(["edition",this._editionToJSON(),"options",w&&w.options||void 0,"oneofs",o.arrayToJSON(this.oneofsArray,m),"fields",o.arrayToJSON(this.fieldsArray.filter(function(A){return!A.declaringField}),m)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",w&&w.nested||void 0,"comment",v?this.comment:void 0])},y.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;o.prototype.resolveAll.call(this);var m=this.oneofsArray;for(v=0;v<m.length;)m[v++].resolve();for(var w=this.fieldsArray,v=0;v<w.length;)w[v++].resolve();return this},y.prototype._resolveFeaturesRecursive=function(m){return this._needsRecursiveFeatureResolution?(m=this._edition||m,o.prototype._resolveFeaturesRecursive.call(this,m),this.oneofsArray.forEach(w=>{w._resolveFeatures(m)}),this.fieldsArray.forEach(w=>{w._resolveFeatures(m)}),this):this},y.prototype.get=function(m){return this.fields[m]||this.oneofs&&this.oneofs[m]||this.nested&&this.nested[m]||null},y.prototype.add=function(m){if(this.get(m.name))throw Error("duplicate name '"+m.name+"' in "+this);if(m instanceof d&&m.extend===void 0){if(this._fieldsById?this._fieldsById[m.id]:this.fieldsById[m.id])throw Error("duplicate id "+m.id+" in "+this);if(this.isReservedId(m.id))throw Error("id "+m.id+" is reserved in "+this);if(this.isReservedName(m.name))throw Error("name '"+m.name+"' is reserved in "+this);return m.parent&&m.parent.remove(m),this.fields[m.name]=m,m.message=this,m.onAdd(this),q(this)}return m instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[m.name]=m,m.onAdd(this),q(this)):o.prototype.add.call(this,m)},y.prototype.remove=function(m){if(m instanceof d&&m.extend===void 0){if(!this.fields||this.fields[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.fields[m.name],m.parent=null,m.onRemove(this),q(this)}if(m instanceof s){if(!this.oneofs||this.oneofs[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.oneofs[m.name],m.parent=null,m.onRemove(this),q(this)}return o.prototype.remove.call(this,m)},y.prototype.isReservedId=function(m){return o.isReservedId(this.reserved,m)},y.prototype.isReservedName=function(m){return o.isReservedName(this.reserved,m)},y.prototype.create=function(m){return new this.ctor(m)},y.prototype.setup=function(){for(var m=this.fullName,w=[],v=0;v<this.fieldsArray.length;++v)w.push(this._fieldsArray[v].resolve().resolvedType);this.encode=l(this)({Writer:i,types:w,util:r}),this.decode=u(this)({Reader:n,types:w,util:r}),this.verify=c(this)({types:w,util:r}),this.fromObject=h.fromObject(this)({types:w,util:r}),this.toObject=h.toObject(this)({types:w,util:r});var A=p[m];if(A){var $=Object.create(this);$.fromObject=this.fromObject,this.fromObject=A.fromObject.bind($),$.toObject=this.toObject,this.toObject=A.toObject.bind($)}return this},y.prototype.encode=function(m,w){return this.setup().encode(m,w)},y.prototype.encodeDelimited=function(m,w){return this.encode(m,w&&w.len?w.fork():w).ldelim()},y.prototype.decode=function(m,w){return this.setup().decode(m,w)},y.prototype.decodeDelimited=function(m){return m instanceof n||(m=n.create(m)),this.decode(m,m.uint32())},y.prototype.verify=function(m){return this.setup().verify(m)},y.prototype.fromObject=function(m){return this.setup().fromObject(m)},y.prototype.toObject=function(m,w){return this.setup().toObject(m,w)},y.d=function(m){return function(v){r.decorateType(v,m)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=i;var o=requireNamespace();((i.prototype=Object.create(o.prototype)).constructor=i).className="Root";var e=requireField(),s=require_enum(),d=requireOneof(),f=requireUtil(),a,t,n;function i(c){o.call(this,"",c),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}i.fromJSON=function(h,p){return p||(p=new i),h.options&&p.setOptions(h.options),p.addJSON(h.nested).resolveAll()},i.prototype.resolvePath=f.path.resolve,i.prototype.fetch=f.fetch;function r(){}i.prototype.load=function c(h,p,y){typeof p=="function"&&(y=p,p=void 0);var q=this;if(!y)return f.asPromise(c,q,h,p);var b=y===r;function m(S,N){if(y){if(b)throw S;N&&N.resolveAll();var k=y;y=null,k(S,N)}}function w(S){var N=S.lastIndexOf("google/protobuf/");if(N>-1){var k=S.substring(N);if(k in n)return k}return null}function v(S,N){try{if(f.isString(N)&&N.charAt(0)==="{"&&(N=JSON.parse(N)),!f.isString(N))q.setOptions(N.options).addJSON(N.nested);else{t.filename=S;var k=t(N,q,p),B,M=0;if(k.imports)for(;M<k.imports.length;++M)(B=w(k.imports[M])||q.resolvePath(S,k.imports[M]))&&A(B);if(k.weakImports)for(M=0;M<k.weakImports.length;++M)(B=w(k.weakImports[M])||q.resolvePath(S,k.weakImports[M]))&&A(B,!0)}}catch(J){m(J)}!b&&!$&&m(null,q)}function A(S,N){if(S=w(S)||S,!(q.files.indexOf(S)>-1)){if(q.files.push(S),S in n){b?v(S,n[S]):(++$,setTimeout(function(){--$,v(S,n[S])}));return}if(b){var k;try{k=f.fs.readFileSync(S).toString("utf8")}catch(B){N||m(B);return}v(S,k)}else++$,q.fetch(S,function(B,M){if(--$,!!y){if(B){N?$||m(null,q):m(B);return}v(S,M)}})}}var $=0;f.isString(h)&&(h=[h]);for(var x=0,L;x<h.length;++x)(L=q.resolvePath("",h[x]))&&A(L);return b?(q.resolveAll(),q):($||m(null,q),q)},i.prototype.loadSync=function(h,p){if(!f.isNode)throw Error("not supported");return this.load(h,p,r)},i.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(h){return"'extend "+h.extend+"' in "+h.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var l=/^[A-Z]/;function u(c,h){var p=h.parent.lookup(h.extend);if(p){var y=new e(h.fullName,h.id,h.type,h.rule,void 0,h.options);return p.get(y.name)||(y.declaringField=h,h.extensionField=y,p.add(y)),!0}return!1}return i.prototype._handleAdd=function(h){if(h instanceof e)h.extend!==void 0&&!h.extensionField&&(u(this,h)||this.deferred.push(h));else if(h instanceof s)l.test(h.name)&&(h.parent[h.name]=h.values);else if(!(h instanceof d)){if(h instanceof a)for(var p=0;p<this.deferred.length;)u(this,this.deferred[p])?this.deferred.splice(p,1):++p;for(var y=0;y<h.nestedArray.length;++y)this._handleAdd(h._nestedArray[y]);l.test(h.name)&&(h.parent[h.name]=h)}(h instanceof a||h instanceof s||h instanceof e)&&(this._fullyQualifiedObjects[h.fullName]=h)},i.prototype._handleRemove=function(h){if(h instanceof e){if(h.extend!==void 0)if(h.extensionField)h.extensionField.parent.remove(h.extensionField),h.extensionField=null;else{var p=this.deferred.indexOf(h);p>-1&&this.deferred.splice(p,1)}}else if(h instanceof s)l.test(h.name)&&delete h.parent[h.name];else if(h instanceof o){for(var y=0;y<h.nestedArray.length;++y)this._handleRemove(h._nestedArray[y]);l.test(h.name)&&delete h.parent[h.name]}delete this._fullyQualifiedObjects[h.fullName]},i._configure=function(c,h,p){a=c,t=h,n=p},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$2.exports;hasRequiredUtil=1;var o=util$2.exports=requireMinimal(),e=roots,s,d;o.codegen=codegen_1,o.fetch=fetch_1,o.path=path,o.fs=o.inquire("fs"),o.toArray=function(r){if(r){for(var l=Object.keys(r),u=new Array(l.length),c=0;c<l.length;)u[c]=r[l[c++]];return u}return[]},o.toObject=function(r){for(var l={},u=0;u<r.length;){var c=r[u++],h=r[u++];h!==void 0&&(l[c]=h)}return l};var f=/\\/g,a=/"/g;o.isReserved=function(r){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(r)},o.safeProp=function(r){return!/^[$\w_]+$/.test(r)||o.isReserved(r)?'["'+r.replace(f,"\\\\").replace(a,'\\"')+'"]':"."+r},o.ucFirst=function(r){return r.charAt(0).toUpperCase()+r.substring(1)};var t=/_([a-z])/g;o.camelCase=function(r){return r.substring(0,1)+r.substring(1).replace(t,function(l,u){return u.toUpperCase()})},o.compareFieldsById=function(r,l){return r.id-l.id},o.decorateType=function(r,l){if(r.$type)return l&&r.$type.name!==l&&(o.decorateRoot.remove(r.$type),r.$type.name=l,o.decorateRoot.add(r.$type)),r.$type;s||(s=requireType());var u=new s(l||r.name);return o.decorateRoot.add(u),u.ctor=r,Object.defineProperty(r,"$type",{value:u,enumerable:!1}),Object.defineProperty(r.prototype,"$type",{value:u,enumerable:!1}),u};var n=0;return o.decorateEnum=function(r){if(r.$type)return r.$type;d||(d=require_enum());var l=new d("Enum"+n++,r);return o.decorateRoot.add(l),Object.defineProperty(r,"$type",{value:l,enumerable:!1}),l},o.setProperty=function(r,l,u,c){function h(p,y,q){var b=y.shift();if(b==="__proto__"||b==="prototype")return p;if(y.length>0)p[b]=h(p[b]||{},y,q);else{var m=p[b];if(m&&c)return p;m&&(q=[].concat(m).concat(q)),p[b]=q}return p}if(typeof r!="object")throw TypeError("dst must be an object");if(!l)throw TypeError("path must be specified");return l=l.split("."),h(r,l,u)},Object.defineProperty(o,"decorateRoot",{get:function(){return e.decorated||(e.decorated=new(requireRoot()))}}),util$2.exports}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(o){var e=o,s=requireUtil(),d=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function f(a,t){var n=0,i={};for(t|=0;n<a.length;)i[d[n+t]]=a[n++];return i}e.basic=f([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=f([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",s.emptyArray,null]),e.long=f([0,0,0,1,1],7),e.mapKey=f([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=f([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$1)),types$1}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=t;var o=requireObject();((t.prototype=Object.create(o.prototype)).constructor=t).className="Field";var e=require_enum(),s=requireTypes(),d=requireUtil(),f,a=/^required|optional|repeated$/;t.fromJSON=function(i,r){var l=new t(i,r.id,r.type,r.rule,r.extend,r.options,r.comment);return r.edition&&(l._edition=r.edition),l._defaultEdition="proto3",l};function t(n,i,r,l,u,c,h){if(d.isObject(l)?(h=u,c=l,l=u=void 0):d.isObject(u)&&(h=c,c=u,u=void 0),o.call(this,n,c),!d.isInteger(i)||i<0)throw TypeError("id must be a non-negative integer");if(!d.isString(r))throw TypeError("type must be a string");if(l!==void 0&&!a.test(l=l.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(u!==void 0&&!d.isString(u))throw TypeError("extend must be a string");l==="proto3_optional"&&(l="optional"),this.rule=l&&l!=="optional"?l:void 0,this.type=r,this.id=i,this.extend=u||void 0,this.repeated=l==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=d.Long?s.long[r]!==void 0:!1,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=h}return Object.defineProperty(t.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(t.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(t.prototype,"delimited",{get:function(){return this.resolvedType instanceof f&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(t.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(t.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),t.prototype.setOption=function(i,r,l){return o.prototype.setOption.call(this,i,r,l)},t.prototype.toJSON=function(i){var r=i?!!i.keepComments:!1;return d.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])},t.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof f?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof e)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=d.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var i;d.base64.test(this.typeDefault)?d.base64.decode(this.typeDefault,i=d.newBuffer(d.base64.length(this.typeDefault)),0):d.utf8.write(this.typeDefault,i=d.newBuffer(d.utf8.length(this.typeDefault)),0),this.typeDefault=i}return this.map?this.defaultValue=d.emptyObject:this.repeated?this.defaultValue=d.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof f&&(this.parent.ctor.prototype[this.name]=this.defaultValue),o.prototype.resolve.call(this)},t.prototype._inferLegacyProtoFeatures=function(i){if(i!=="proto2"&&i!=="proto3")return{};var r={};if(this.rule==="required"&&(r.field_presence="LEGACY_REQUIRED"),this.parent&&s.defaults[this.type]===void 0){var l=this.parent.get(this.type.split(".").pop());l&&l instanceof f&&l.group&&(r.message_encoding="DELIMITED")}return this.getOption("packed")===!0?r.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(r.repeated_field_encoding="EXPANDED"),r},t.prototype._resolveFeatures=function(i){return o.prototype._resolveFeatures.call(this,this._edition||i)},t.d=function(i,r,l,u){return typeof r=="function"?r=d.decorateType(r).name:r&&typeof r=="object"&&(r=d.decorateEnum(r).name),function(h,p){d.decorateType(h.constructor).add(new t(p,i,r,l,{default:u}))}},t._configure=function(i){f=i},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=d;var o=requireObject();((d.prototype=Object.create(o.prototype)).constructor=d).className="OneOf";var e=requireField(),s=requireUtil();function d(a,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),o.call(this,a,n),!(t===void 0||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}d.fromJSON=function(t,n){return new d(t,n.oneof,n.options,n.comment)},d.prototype.toJSON=function(t){var n=t?!!t.keepComments:!1;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",n?this.comment:void 0])};function f(a){if(a.parent)for(var t=0;t<a.fieldsArray.length;++t)a.fieldsArray[t].parent||a.parent.add(a.fieldsArray[t])}return d.prototype.add=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,f(this),this},d.prototype.remove=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(t);if(n<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(n,1),n=this.oneof.indexOf(t.name),n>-1&&this.oneof.splice(n,1),t.partOf=null,this},d.prototype.onAdd=function(t){o.prototype.onAdd.call(this,t);for(var n=this,i=0;i<this.oneof.length;++i){var r=t.get(this.oneof[i]);r&&!r.partOf&&(r.partOf=n,n.fieldsArray.push(r))}f(this)},d.prototype.onRemove=function(t){for(var n=0,i;n<this.fieldsArray.length;++n)(i=this.fieldsArray[n]).parent&&i.parent.remove(i);o.prototype.onRemove.call(this,t)},Object.defineProperty(d.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var a=this.fieldsArray[0];return a.options!=null&&a.options.proto3_optional===!0}}),d.d=function(){for(var t=new Array(arguments.length),n=0;n<arguments.length;)t[n]=arguments[n++];return function(r,l){s.decorateType(r.constructor).add(new d(l,t)),Object.defineProperty(r,l,{get:s.oneOfGetter(t),set:s.oneOfSetter(t)})}},oneof}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=t,t.className="ReflectionObject";const o=requireOneof();var e=requireUtil(),s,d={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},f={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},a={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function t(n,i){if(!e.isString(n))throw TypeError("name must be a string");if(i&&!e.isObject(i))throw TypeError("options must be an object");this.options=i,this.parsedOptions=null,this.name=n,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(t.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],i=this.parent;i;)n.unshift(i.name),i=i.parent;return n.join(".")}}}),t.prototype.toJSON=function(){throw Error()},t.prototype.onAdd=function(i){this.parent&&this.parent!==i&&this.parent.remove(this),this.parent=i,this.resolved=!1;var r=i.root;r instanceof s&&r._handleAdd(this)},t.prototype.onRemove=function(i){var r=i.root;r instanceof s&&r._handleRemove(this),this.parent=null,this.resolved=!1},t.prototype.resolve=function(){return this.resolved?this:(this.root instanceof s&&(this.resolved=!0),this)},t.prototype._resolveFeaturesRecursive=function(i){return this._resolveFeatures(this._edition||i)},t.prototype._resolveFeatures=function(i){if(!this._featuresResolved){var r={};if(!i)throw new Error("Unknown edition for "+this.fullName);var l=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(i));if(this._edition){if(i==="proto2")r=Object.assign({},f);else if(i==="proto3")r=Object.assign({},a);else if(i==="2023")r=Object.assign({},d);else throw new Error("Unknown edition: "+i);this._features=Object.assign(r,l||{}),this._featuresResolved=!0;return}if(this.partOf instanceof o){var u=Object.assign({},this.partOf._features);this._features=Object.assign(u,l||{})}else if(!this.declaringField)if(this.parent){var c=Object.assign({},this.parent._features);this._features=Object.assign(c,l||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},t.prototype._inferLegacyProtoFeatures=function(){return{}},t.prototype.getOption=function(i){if(this.options)return this.options[i]},t.prototype.setOption=function(i,r,l){return this.options||(this.options={}),/^features\./.test(i)?e.setProperty(this.options,i,r,l):(!l||this.options[i]===void 0)&&(this.getOption(i)!==r&&(this.resolved=!1),this.options[i]=r),this},t.prototype.setParsedOption=function(i,r,l){this.parsedOptions||(this.parsedOptions=[]);var u=this.parsedOptions;if(l){var c=u.find(function(y){return Object.prototype.hasOwnProperty.call(y,i)});if(c){var h=c[i];e.setProperty(h,l,r)}else c={},c[i]=e.setProperty({},l,r),u.push(c)}else{var p={};p[i]=r,u.push(p)}return this},t.prototype.setOptions=function(i,r){if(i)for(var l=Object.keys(i),u=0;u<l.length;++u)this.setOption(l[u],i[l[u]],r);return this},t.prototype.toString=function(){var i=this.constructor.className,r=this.fullName;return r.length?i+" "+r:i},t.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},t._configure=function(n){s=n},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=d;var o=requireObject();((d.prototype=Object.create(o.prototype)).constructor=d).className="Enum";var e=requireNamespace(),s=requireUtil();function d(f,a,t,n,i,r){if(o.call(this,f,t),a&&typeof a!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.valuesOptions=r,this._valuesFeatures={},this.reserved=void 0,a)for(var l=Object.keys(a),u=0;u<l.length;++u)typeof a[l[u]]=="number"&&(this.valuesById[this.values[l[u]]=a[l[u]]]=l[u])}return d.prototype._resolveFeatures=function(a){return a=this._edition||a,o.prototype._resolveFeatures.call(this,a),Object.keys(this.values).forEach(t=>{var n=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(n,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this},d.fromJSON=function(a,t){var n=new d(a,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,t.edition&&(n._edition=t.edition),n._defaultEdition="proto3",n},d.prototype.toJSON=function(a){var t=a?!!a.keepComments:!1;return s.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},d.prototype.add=function(a,t,n,i){if(!s.isString(a))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(this.values[a]!==void 0)throw Error("duplicate name '"+a+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(a))throw Error("name '"+a+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[a]=t}else this.valuesById[this.values[a]=t]=a;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[a]=i||null),this.comments[a]=n||null,this},d.prototype.remove=function(a){if(!s.isString(a))throw TypeError("name must be a string");var t=this.values[a];if(t==null)throw Error("name '"+a+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[a],delete this.comments[a],this.valuesOptions&&delete this.valuesOptions[a],this},d.prototype.isReservedId=function(a){return e.isReservedId(this.reserved,a)},d.prototype.isReservedName=function(a){return e.isReservedName(this.reserved,a)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=f;var o=require_enum(),e=requireTypes(),s=requireUtil();function d(a,t,n,i){return t.delimited?a("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):a("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,i,(t.id<<3|2)>>>0)}function f(a){for(var t=s.codegen(["m","w"],a.name+"$encode")("if(!w)")("w=Writer.create()"),n,i,r=a.fieldsArray.slice().sort(s.compareFieldsById),n=0;n<r.length;++n){var l=r[n].resolve(),u=a._fieldsArray.indexOf(l),c=l.resolvedType instanceof o?"int32":l.type,h=e.basic[c];i="m"+s.safeProp(l.name),l.map?(t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",i,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",i)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|e.mapKey[l.keyType],l.keyType),h===void 0?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,i):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,c,i),t("}")("}")):l.repeated?(t("if(%s!=null&&%s.length){",i,i),l.packed&&e.packed[c]!==void 0?t("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",i)("w.%s(%s[i])",c,i)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",i),h===void 0?d(t,l,u,i+"[i]"):t("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,c,i)),t("}")):(l.optional&&t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",i,l.name),h===void 0?d(t,l,u,i):t("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,c,i))}return t("return w")}return encoder_1}var protobuf$2=indexLight.exports=indexMinimal;protobuf$2.build="light";function load(o,e,s){return typeof e=="function"?(s=e,e=new protobuf$2.Root):e||(e=new protobuf$2.Root),e.load(o,s)}protobuf$2.load=load;function loadSync(o,e){return e||(e=new protobuf$2.Root),e.loadSync(o)}protobuf$2.loadSync=loadSync;protobuf$2.encoder=requireEncoder();protobuf$2.decoder=requireDecoder();protobuf$2.verifier=requireVerifier();protobuf$2.converter=requireConverter();protobuf$2.ReflectionObject=requireObject();protobuf$2.Namespace=requireNamespace();protobuf$2.Root=requireRoot();protobuf$2.Enum=require_enum();protobuf$2.Type=requireType();protobuf$2.Field=requireField();protobuf$2.OneOf=requireOneof();protobuf$2.MapField=requireMapfield();protobuf$2.Service=requireService();protobuf$2.Method=requireMethod();protobuf$2.Message=message;protobuf$2.wrappers=wrappers;protobuf$2.types=requireTypes();protobuf$2.util=requireUtil();protobuf$2.ReflectionObject._configure(protobuf$2.Root);protobuf$2.Namespace._configure(protobuf$2.Type,protobuf$2.Service,protobuf$2.Enum);protobuf$2.Root._configure(protobuf$2.Type);protobuf$2.Field._configure(protobuf$2.Type);var indexLightExports=indexLight.exports,tokenize_1=tokenize$1,delimRe=/[\s{}=;:[\],'"()<>]/g,stringDoubleRe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,stringSingleRe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,setCommentRe=/^ *[*/]+ */,setCommentAltRe=/^\s*\*?\/*/,setCommentSplitRe=/\n/g,whitespaceRe=/\s/,unescapeRe=/\\(.?)/g,unescapeMap={0:"\0",r:"\r",n:`
`,t:"	"};function unescape(o){return o.replace(unescapeRe,function(e,s){switch(s){case"\\":case"":return s;default:return unescapeMap[s]||""}})}tokenize$1.unescape=unescape;function tokenize$1(o,e){o=o.toString();var s=0,d=o.length,f=1,a=0,t={},n=[],i=null;function r(v){return Error("illegal "+v+" (line "+f+")")}function l(){var v=i==="'"?stringSingleRe:stringDoubleRe;v.lastIndex=s-1;var A=v.exec(o);if(!A)throw r("string");return s=v.lastIndex,q(i),i=null,unescape(A[1])}function u(v){return o.charAt(v)}function c(v,A,$){var x={type:o.charAt(v++),lineEmpty:!1,leading:$},L;e?L=2:L=3;var S=v-L,N;do if(--S<0||(N=o.charAt(S))===`
`){x.lineEmpty=!0;break}while(N===" "||N==="	");for(var k=o.substring(v,A).split(setCommentSplitRe),B=0;B<k.length;++B)k[B]=k[B].replace(e?setCommentAltRe:setCommentRe,"").trim();x.text=k.join(`
`).trim(),t[f]=x,a=f}function h(v){var A=p(v),$=o.substring(v,A),x=/^\s*\/\//.test($);return x}function p(v){for(var A=v;A<d&&u(A)!==`
`;)A++;return A}function y(){if(n.length>0)return n.shift();if(i)return l();var v,A,$,x,L,S=s===0;do{if(s===d)return null;for(v=!1;whitespaceRe.test($=u(s));)if($===`
`&&(S=!0,++f),++s===d)return null;if(u(s)==="/"){if(++s===d)throw r("comment");if(u(s)==="/")if(e){if(x=s,L=!1,h(s-1)){L=!0;do if(s=p(s),s===d||(s++,!S))break;while(h(s))}else s=Math.min(d,p(s)+1);L&&(c(x,s,S),S=!0),f++,v=!0}else{for(L=u(x=s+1)==="/";u(++s)!==`
`;)if(s===d)return null;++s,L&&(c(x,s-1,S),S=!0),++f,v=!0}else if(($=u(s))==="*"){x=s+1,L=e||u(x)==="*";do{if($===`
`&&++f,++s===d)throw r("comment");A=$,$=u(s)}while(A!=="*"||$!=="/");++s,L&&(c(x,s-2,S),S=!0),v=!0}else return"/"}}while(v);var N=s;delimRe.lastIndex=0;var k=delimRe.test(u(N++));if(!k)for(;N<d&&!delimRe.test(u(N));)++N;var B=o.substring(s,s=N);return(B==='"'||B==="'")&&(i=B),B}function q(v){n.push(v)}function b(){if(!n.length){var v=y();if(v===null)return null;q(v)}return n[0]}function m(v,A){var $=b(),x=$===v;if(x)return y(),!0;if(!A)throw r("token '"+$+"', '"+v+"' expected");return!1}function w(v){var A=null,$;return v===void 0?($=t[f-1],delete t[f-1],$&&(e||$.type==="*"||$.lineEmpty)&&(A=$.leading?$.text:null)):(a<v&&b(),$=t[v],delete t[v],$&&!$.lineEmpty&&(e||$.type==="/")&&(A=$.leading?null:$.text)),A}return Object.defineProperty({next:y,peek:b,push:q,skip:m,cmnt:w},"line",{get:function(){return f}})}var parse_1=parse;parse.filename=null;parse.defaults={keepCase:!1};var tokenize=tokenize_1,Root=requireRoot(),Type=requireType(),Field=requireField(),MapField=requireMapfield(),OneOf=requireOneof(),Enum=require_enum(),Service=requireService(),Method=requireMethod(),ReflectionObject=requireObject(),types=requireTypes(),util=requireUtil(),base10Re=/^[1-9][0-9]*$/,base10NegRe=/^-?[1-9][0-9]*$/,base16Re=/^0[x][0-9a-fA-F]+$/,base16NegRe=/^-?0[x][0-9a-fA-F]+$/,base8Re=/^0[0-7]+$/,base8NegRe=/^-?0[0-7]+$/,numberRe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,nameRe=/^[a-zA-Z_][a-zA-Z_0-9]*$/,typeRefRe=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function parse(o,e,s){e instanceof Root||(s=e,e=new Root),s||(s=parse.defaults);var d=s.preferTrailingComment||!1,f=tokenize(o,s.alternateCommentMode||!1),a=f.next,t=f.push,n=f.peek,i=f.skip,r=f.cmnt,l=!0,u,c,h,p="proto2",y=e,q=[],b={},m=s.keepCase?function(_){return _}:util.camelCase;function w(){q.forEach(_=>{_._edition=p,Object.keys(b).forEach(g=>{_.getOption(g)===void 0&&_.setOption(g,b[g],!0)})})}function v(_,g,O){var R=parse.filename;return O||(parse.filename=null),Error("illegal "+(g||"token")+" '"+_+"' ("+(R?R+", ":"")+"line "+f.line+")")}function A(){var _=[],g;do{if((g=a())!=='"'&&g!=="'")throw v(g);_.push(a()),i(g),g=n()}while(g==='"'||g==="'");return _.join("")}function $(_){var g=a();switch(g){case"'":case'"':return t(g),A();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return L(g,!0)}catch{if(typeRefRe.test(g))return g;throw v(g,"value")}}function x(_,g){var O,R;do if(g&&((O=n())==='"'||O==="'")){var E=A();if(_.push(E),p>=2023)throw v(E,"id")}else try{_.push([R=S(a()),i("to",!0)?S(a()):R])}catch(T){if(g&&typeRefRe.test(O)&&p>=2023)_.push(O);else throw T}while(i(",",!0));var F={options:void 0};F.setOption=function(T,I){this.options===void 0&&(this.options={}),this.options[T]=I},P(F,function(I){if(I==="option")W(F,I),i(";");else throw v(I)},function(){V(F)})}function L(_,g){var O=1;switch(_.charAt(0)==="-"&&(O=-1,_=_.substring(1)),_){case"inf":case"INF":case"Inf":return O*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(base10Re.test(_))return O*parseInt(_,10);if(base16Re.test(_))return O*parseInt(_,16);if(base8Re.test(_))return O*parseInt(_,8);if(numberRe.test(_))return O*parseFloat(_);throw v(_,"number",g)}function S(_,g){switch(_){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!g&&_.charAt(0)==="-")throw v(_,"id");if(base10NegRe.test(_))return parseInt(_,10);if(base16NegRe.test(_))return parseInt(_,16);if(base8NegRe.test(_))return parseInt(_,8);throw v(_,"id")}function N(){if(u!==void 0)throw v("package");if(u=a(),!typeRefRe.test(u))throw v(u,"name");y=y.define(u),i(";")}function k(){var _=n(),g;switch(_){case"weak":g=h||(h=[]),a();break;case"public":a();default:g=c||(c=[]);break}_=A(),i(";"),g.push(_)}function B(){if(i("="),p=A(),p<2023)throw v(p,"syntax");i(";")}function M(){if(i("="),p=A(),!["2023"].includes(p))throw v(p,"edition");i(";")}function J(_,g){switch(g){case"option":return W(_,g),i(";"),!0;case"message":return H(_,g),!0;case"enum":return X(_,g),!0;case"service":return re(_,g),!0;case"extend":return ne(_,g),!0}return!1}function P(_,g,O){var R=f.line;if(_&&(typeof _.comment!="string"&&(_.comment=r()),_.filename=parse.filename),i("{",!0)){for(var E;(E=a())!=="}";)g(E);i(";",!0)}else O&&O(),i(";"),_&&(typeof _.comment!="string"||d)&&(_.comment=r(R)||_.comment)}function H(_,g){if(!nameRe.test(g=a()))throw v(g,"type name");var O=new Type(g);P(O,function(E){if(!J(O,E))switch(E){case"map":K(O);break;case"required":if(p!=="proto2")throw v(E);case"repeated":j(O,E);break;case"optional":if(p==="proto3")j(O,"proto3_optional");else{if(p!=="proto2")throw v(E);j(O,"optional")}break;case"oneof":Y(O,E);break;case"extensions":x(O.extensions||(O.extensions=[]));break;case"reserved":x(O.reserved||(O.reserved=[]),!0);break;default:if(p==="proto2"||!typeRefRe.test(E))throw v(E);t(E),j(O,"optional");break}}),_.add(O),_===y&&q.push(O)}function j(_,g,O){var R=a();if(R==="group"){Q(_,g);return}for(;R.endsWith(".")||n().startsWith(".");)R+=a();if(!typeRefRe.test(R))throw v(R,"type");var E=a();if(!nameRe.test(E))throw v(E,"name");E=m(E),i("=");var F=new Field(E,S(a()),R,g,O);if(P(F,function(C){if(C==="option")W(F,C),i(";");else throw v(C)},function(){V(F)}),g==="proto3_optional"){var T=new OneOf("_"+E);F.setOption("proto3_optional",!0),T.add(F),_.add(T)}else _.add(F);_===y&&q.push(F)}function Q(_,g){if(p>=2023)throw v("group");var O=a();if(!nameRe.test(O))throw v(O,"name");var R=util.lcFirst(O);O===R&&(O=util.ucFirst(O)),i("=");var E=S(a()),F=new Type(O);F.group=!0;var T=new Field(R,E,O,g);T.filename=parse.filename,P(F,function(C){switch(C){case"option":W(F,C),i(";");break;case"required":case"repeated":j(F,C);break;case"optional":p==="proto3"?j(F,"proto3_optional"):j(F,"optional");break;case"message":H(F,C);break;case"enum":X(F,C);break;case"reserved":x(F.reserved||(F.reserved=[]),!0);break;default:throw v(C)}}),_.add(F).add(T)}function K(_){i("<");var g=a();if(types.mapKey[g]===void 0)throw v(g,"type");i(",");var O=a();if(!typeRefRe.test(O))throw v(O,"type");i(">");var R=a();if(!nameRe.test(R))throw v(R,"name");i("=");var E=new MapField(m(R),S(a()),g,O);P(E,function(T){if(T==="option")W(E,T),i(";");else throw v(T)},function(){V(E)}),_.add(E)}function Y(_,g){if(!nameRe.test(g=a()))throw v(g,"name");var O=new OneOf(m(g));P(O,function(E){E==="option"?(W(O,E),i(";")):(t(E),j(O,"optional"))}),_.add(O)}function X(_,g){if(!nameRe.test(g=a()))throw v(g,"name");var O=new Enum(g);P(O,function(E){switch(E){case"option":W(O,E),i(";");break;case"reserved":x(O.reserved||(O.reserved=[]),!0),O.reserved===void 0&&(O.reserved=[]);break;default:ee(O,E)}}),_.add(O),_===y&&q.push(O)}function ee(_,g){if(!nameRe.test(g))throw v(g,"name");i("=");var O=S(a(),!0),R={options:void 0};R.getOption=function(E){return this.options[E]},R.setOption=function(E,F){ReflectionObject.prototype.setOption.call(R,E,F)},R.setParsedOption=function(){},P(R,function(F){if(F==="option")W(R,F),i(";");else throw v(F)},function(){V(R)}),_.add(g,O,R.comment,R.parsedOptions||R.options)}function W(_,g){var O,R,E=!0;for(g==="option"&&(g=a());g!=="=";){if(g==="("){var F=a();i(")"),g="("+F+")"}if(E){if(E=!1,g.includes(".")&&!g.includes("(")){var T=g.split(".");O=T[0]+".",g=T[1];continue}O=g}else R=R?R+=g:g;g=a()}var I=R?O.concat(R):O,C=Z(_,I);R=R&&R[0]==="."?R.slice(1):R,O=O&&O[O.length-1]==="."?O.slice(0,-1):O,te(_,O,C,R)}function Z(_,g){if(i("{",!0)){for(var O={};!i("}",!0);){if(!nameRe.test(D=a()))throw v(D,"name");if(D===null)throw v(D,"end of input");var R,E=D;if(i(":",!0),n()==="{")R=Z(_,g+"."+D);else if(n()==="["){R=[];var F;if(i("[",!0)){do F=$(),R.push(F);while(i(",",!0));i("]"),typeof F<"u"&&z(_,g+"."+D,F)}}else R=$(),z(_,g+"."+D,R);var T=O[E];T&&(R=[].concat(T).concat(R)),O[E]=R,i(",",!0),i(";",!0)}return O}var I=$();return z(_,g,I),I}function z(_,g,O){if(y===_&&/^features\./.test(g)){b[g]=O;return}_.setOption&&_.setOption(g,O)}function te(_,g,O,R){_.setParsedOption&&_.setParsedOption(g,O,R)}function V(_){if(i("[",!0)){do W(_,"option");while(i(",",!0));i("]")}return _}function re(_,g){if(!nameRe.test(g=a()))throw v(g,"service name");var O=new Service(g);P(O,function(E){if(!J(O,E))if(E==="rpc")ie(O,E);else throw v(E)}),_.add(O),_===y&&q.push(O)}function ie(_,g){var O=r(),R=g;if(!nameRe.test(g=a()))throw v(g,"name");var E=g,F,T,I,C;if(i("("),i("stream",!0)&&(T=!0),!typeRefRe.test(g=a())||(F=g,i(")"),i("returns"),i("("),i("stream",!0)&&(C=!0),!typeRefRe.test(g=a())))throw v(g);I=g,i(")");var U=new Method(E,R,F,I,T,C);U.comment=O,P(U,function(G){if(G==="option")W(U,G),i(";");else throw v(G)}),_.add(U)}function ne(_,g){if(!typeRefRe.test(g=a()))throw v(g,"reference");var O=g;P(null,function(E){switch(E){case"required":case"repeated":j(_,E,O);break;case"optional":p==="proto3"?j(_,"proto3_optional",O):j(_,"optional",O);break;default:if(p==="proto2"||!typeRefRe.test(E))throw v(E);t(E),j(_,"optional",O);break}})}for(var D;(D=a())!==null;)switch(D){case"package":if(!l)throw v(D);N();break;case"import":if(!l)throw v(D);k();break;case"syntax":if(!l)throw v(D);B();break;case"edition":if(!l)throw v(D);M();break;case"option":W(y,D),i(";",!0);break;default:if(J(y,D)){l=!1;continue}throw v(D)}return w(),parse.filename=null,{package:u,imports:c,weakImports:h,root:e}}var common_1=common,commonRe=/\/|\./;function common(o,e){commonRe.test(o)||(o="google/protobuf/"+o+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),common[o]=e}common("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var timeType;common("duration",{Duration:timeType={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});common("timestamp",{Timestamp:timeType});common("empty",{Empty:{fields:{}}});common("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});common("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});common("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});common.get=function o(e){return common[e]||null};var protobuf$1=src.exports=indexLightExports;protobuf$1.build="full";protobuf$1.tokenize=tokenize_1;protobuf$1.parse=parse_1;protobuf$1.common=common_1;protobuf$1.Root._configure(protobuf$1.Type,protobuf$1.parse,protobuf$1.common);var srcExports=src.exports,protobufjs=srcExports;const protobuf=getDefaultExportFromCjs(protobufjs);export{protobuf as a,getDefaultExportFromCjs as g,protobufjs as p};
